<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  <title class="dValue">Quality Diamonds</title>
  <link rel="icon" href="./images/icon/logo-top.png" />
  <link href="css/vision360.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script type="text/javascript" src="js/w.js"></script>
  <!--Use for watermark logo in viewer-->
  <script type="text/javascript" src="js/vision360.js"></script>
  <script>
    $(document).ready(function () {
      $(".Vision360").Vision360({
        movieName: "video", //Movie Name
        surl: "", // If your movie in other server or website
        sideView: "", // 0 If you want to display all side view buttons
        autoPlay: 1,
        infoURL: "",
        watermarkPosition: "7",
        watermarkLink: "ng360.vercel.app",
        quality: 0, //Movie quality. If you pass 0 then it take from 0.js
        zoom: 0, // Pass 1 or 0 If you want to see zoom button
        buttons: "", //If you don't want to see navigation button then 0
        speed: 0,
      });
    });
  </script>
  <!--Read viewer manual first.Parameter effect are same with query string and function.If you use parameter then functional setting is removed-->
  <!-- https://www.figma.com/file/6LX0MmHcc8PFwThGMVrs5I/NG360?type=whiteboard&node-id=0%3A1&t=VLupO1A57SzroCcV-1 -->

  <style>
    @media screen and (max-width:575px) {

      .frameContainer,
      .btnPreloadPlay,
      #Img1,
      #\33 60frames1,
      .V360-preload,
      .V360-stage,
      .V360-canvas {
        height: var(--screen-width) !important;
        width: var(--screen-width) !important;
      }
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/js/bootstrap.min.js"
    integrity="sha512-EKWWs1ZcA2ZY9lbLISPz8aGR2+L7JVYqBAYTq5AXgBkSjRSuQEGqWx8R1zAX16KdXPaCjOCaKE8MCpU0wcHlHA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
  <div class="container container-fluid-sm">
    <div class="row">
      <div class="col-xl-6 sticky-on-desk">
        <div class="Vision360"></div>
        <div class="additional_data"></div>
        <div class="buttons_group"></div>
        <div class="image_container"></div>
      </div>
      <div class="col-xl-6" id="stone-detail">
        <div class="level mb-4">
          <div class="level-left">
            <button type="button" class="btn-sm btn btn-dark">
              <i class="bi bi-gem d-inline-flex align-items-center justify-content-center align-middle"></i>
              <span class="dValue ms-1"></span>
            </button>

          </div>
          <div class="level-right">
            <div class="level-item">
              <button type="button" class="btn-sm btn btn-secondary copy-button" id="copyLinkBtn">
                Copy Link
              </button>
              <button type="button" class="btn-sm btn btn-success copy-button" id="shareOnWhatsapp">
                <i class="bi bi-whatsapp d-inline-flex align-items-center justify-content-center align-middle"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="box content w-100">
          <div class="container my-4">
            <h4 class="text-center mb-4">Stone Details</h4>

            <div class="row">
              <!-- Left Table -->
              <div class="col-md-12 col-lg-6 ">
                <table class="table table-bordered table-striped">
                  <thead class="thead-dark">
                    <tr>
                      <th scope="col">Attribute</th>
                      <th scope="col">Value</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Shape</td>
                      <td>Round</td>
                    </tr>
                    <tr>
                      <td>Carat</td>
                      <td>1.5</td>
                    </tr>
                    <tr>
                      <td>Color</td>
                      <td>D</td>
                    </tr>
                    <tr>
                      <td>Clarity</td>
                      <td>VS1</td>
                    </tr>
                    <tr>
                      <td>Cut</td>
                      <td>Excellent</td>
                    </tr>
                    <tr>
                      <td>Polish</td>
                      <td>Excellent</td>
                    </tr>
                    <tr>
                      <td>Symmetry</td>
                      <td>Excellent</td>
                    </tr>
                    <tr>
                      <td>Fluorescence</td>
                      <td>None</td>
                    </tr>
                    <tr>
                      <td>Report #</td>
                      <td>123456789</td>
                    </tr>
                    <tr>
                      <td>Measurements</td>
                      <td>6.5 x 6.5 x 4.0 mm</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <!-- Right Table -->
              <div class="col-md-12 col-lg-6 ">
                <table class="table table-bordered table-striped">
                  <thead class="thead-dark">
                    <tr>
                      <th scope="col">Attribute</th>
                      <th scope="col">Value</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Depth %</td>
                      <td>62%</td>
                    </tr>
                    <tr>
                      <td>Table %</td>
                      <td>57%</td>
                    </tr>
                    <tr>
                      <td>Crown Angle</td>
                      <td>34.5°</td>
                    </tr>
                    <tr>
                      <td>Crown Height %</td>
                      <td>15%</td>
                    </tr>
                    <tr>
                      <td>Pavilion Angle</td>
                      <td>40.6°</td>
                    </tr>
                    <tr>
                      <td>Pavilion Depth %</td>
                      <td>43%</td>
                    </tr>
                    <tr>
                      <td>Girdle</td>
                      <td>Medium</td>
                    </tr>
                    <tr>
                      <td>H&A</td>
                      <td>Yes</td>
                    </tr>
                    <tr>
                      <td>Lab</td>
                      <td>GIA</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="box mt-5">
          <div class="level is-mobile mb-3">
            <div class="level-left">
              <div class="level-item">
                <h3 class="is-size-5">GIA</h3>
              </div>
            </div>
            <div class="level-right">
              <button type="button" class="btn-sm btn btn-dark">
                <i class="bi bi-award d-inline-flex align-items-center justify-content-center align-middle"></i>
                <a href="https://www.gia.edu/report-check?reportno=5483550511" rel="no-referrer"
                  class="text-decoration-none text-white" target="_blank">GIA 5483550511</a>
              </button>
            </div>
          </div>


          <pdf-viewer src="https://4cs.gia.edu/files/GIA-how-to-read-a-diamond-grading-report-EN.pdf"
            class="w-100 mt-4"></pdf-viewer>


        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <footer class="d-flex flex-wrap justify-content-center align-items-center py-3 my-4 border-top">
      <div class="col-12 d-flex align-items-center text-center justify-content-center">
        <span class="text-muted fs-6" style="font-size: 12px !important;">&copy; 2024, Lovingly crafted by
          <a href="mailto:harshrana0084@gmail.com" target="_blank">
            Harsh
          </a>
          with passion and precision.</span>
      </div>
    </footer>
  </div>
</body>

<script>
  $(window).on("load", function () {
    let url = window.location.href;
    let value = new URLSearchParams(url.split("?")[1]).get("d");
    if (!value) {
      return;
    }
    let btn = $('<button class="imgWtext">').html(`
        <img src="./imaged/${value}/still.jpg" alt="Still Image">
        <p>360° View</p>
    `);
    $(".image_container").append(btn);
    let imagePath = "./imaged/" + value + "/still.jpg";
    let haArrowB = "./imaged/" + value + "/H&A%20HEART.jpg";
    let haArrowF = "./imaged/" + value + "/H&A%20ARROW.jpg";
    let asetW = "./imaged/" + value + "/ASET..jpg";
    let asetB = "./imaged/" + value + "/ASET.jpg";
    let img1 = createImageElement(imagePath, "Still"); // Add text "Still" to the first image
    let img2 = createImageElement(haArrowB);
    let img3 = createImageElement(haArrowF);
    let img4 = createImageElement(asetW);
    let img5 = createImageElement(asetB);
    $(".image_container").append(img1);
    let haGroupDiv = $('<div class="HA_group">').append(
      img2,
      img3,
      $("<p>H&A Image</p>")
    );
    $(".image_container").append(haGroupDiv);
    let asetDiv = $('<div class="Aset_group">').append(
      img4,
      img5,
      $("<p>ASET Image</p>")
    );
    $(".image_container").append(asetDiv);
    img1.on("click", function () {
      updateV360Stage(img1.find("img").attr("src"));
    });
    $(".HA_group img").on("click", function () {
      updateV360Stage($(this).attr("src"));
    });
    img4.on("click", function () {
      updateV360Stage(img4.find("img").attr("src"));
    });
    img5.on("click", function () {
      updateV360Stage(img5.find("img").attr("src"));
    });
    btn.on("click", function () {
      resetV360Stage();
    });
    $(".imgWtext").on("click", function () {
      $("#360view").click();
    });
    $(".buttons img, .buttons a").click(function () {
      $(".V360-stage").css({
        "background-color": "transparent",
        "background-image": "none",
      });
    });
    $.get(haArrowB)
      .done(function () {
        $(".HA_group").show();
      })
      .fail(function () {
        $(".HA_group").hide();
      });

    $.get(haArrowF)
      .done(function () {
        $(".HA_group").show();
      })
      .fail(function () {
        $(".HA_group").hide();
      });

    $.get(asetW)
      .done(function () {
        $(".Aset_group").show();
      })
      .fail(function () {
        $(".Aset_group").hide();
      });

    $.get(asetB)
      .done(function () {
        $(".Aset_group").show();
      })
      .fail(function () {
        $(".Aset_group").hide();
      });

    function createImageElement(src, text) {
      let container = $("<div class='flex'>");
      let image = $("<img>")
        .attr("src", src)
        .on("error", function () {
          console.log("Error loading image:", src);
          $(this).remove();
        });
      let textNode = $("<p>").text(text);
      container.append(image, textNode);
      return container;
    }
    function updateV360Stage(imageSrc) {
      $(".V360-stage").css({
        "background-image": "url(" + imageSrc + ")",
        "z-index": "2",
        "background-color": "#cdcdcd",
      });
    }
    function resetV360Stage() {
      $(".V360-stage").css({
        "background-color": "transparent",
        "background-image": "none",
      });
    }
    let copyUrlBtn = $(
      `<button class="copyUrlBtn" title="Copy Link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link-2"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></button>`
    );
    $("div#trfv").append(copyUrlBtn);
    copyUrlBtn.on("click", function () {
      copyCurrentPageUrl();
    });

    function copyCurrentPageUrl() {
      let url = window.location.href;
      let tempTextarea = $("<textarea>").val(url).appendTo("body").select();
      document.execCommand("copy");
      tempTextarea.remove();
      copyUrlBtn.html("✔"); // Use .html() instead of .text() to insert HTML content

      // Hide check mark and show initial SVG after 5 seconds
      setTimeout(function () {
        copyUrlBtn.html(
          '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link-2"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg>'
        );
      }, 5000);
    }

    let downloadVideoBtn =
      $(`<button class="downloadVideoBtn" title="Download Video">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg></button>`);

    $("div#trfv").append(downloadVideoBtn);

    function getVideoLink() {
      let url = window.location.href;
      let value = new URLSearchParams(url.split("?")[1]).get("d");
      let videoPath = "./imaged/" + value + "/video.mp4";
      return videoPath;
    }

    function downloadVideo() {
      let videoLink = getVideoLink();
      let downloadLink = $("<a>").attr({
        href: videoLink,
        download: "video.mp4",
      });
      downloadLink.appendTo("body")[0].click();
      downloadLink.remove();
    }

    // Check if video exists
    $.ajax({
      url: getVideoLink(),
      type: "HEAD",
      error: function () {
        downloadVideoBtn.hide();
      },
      success: function () {
        downloadVideoBtn.show();
      },
    });

    downloadVideoBtn.on("click", function () {
      downloadVideo();
    });

    $(".buttons img, .buttons a").click(function () {
      $(".V360-stage").css({
        "background-color": "transparent",
        "background-image": "none",
      });
    });
  });
</script>

<!-- You can ignore this JS -->
<script>
  function startTitleRotation() {
    // List of titles to rotate
    const titles = [
      "Quality Diamonds",
      "Certified Diamonds",
      "Best Value",
      "Welcome to NG360",
    ];

    let currentIndex = 0;

    // Create a function to rotate the title
    function rotateTitle() {
      document.title = titles[currentIndex];
      currentIndex = (currentIndex + 1) % titles.length;
    }

    const rotationInterval = setInterval(rotateTitle, 2000);

    // Optionally, you can stop the rotation after a certain duration (e.g., 15000 milliseconds)
    setTimeout(function () {
      clearInterval(rotationInterval);
    }, 15000);
  }

  // Start the title rotation when the window loads
  window.onload = startTitleRotation;
</script>

<!-- UI Script -->
<script>
  // Extract the 'd' parameter from the URL
  const dValue = new URLSearchParams(window.location.search).get('d');

  // Use the 'd' value in all elements with class 'dValue'
  document.querySelectorAll('.dValue').forEach(el => el.textContent = dValue);



  // Function to copy the current URL
  function copyCurrentURL() {
    const url = window.location.href; // Get the current tab URL

    // Create a temporary input element to copy the URL from
    const tempInput = document.createElement('input');
    tempInput.value = url;
    document.body.appendChild(tempInput);

    // Select and copy the URL
    tempInput.select();
    tempInput.setSelectionRange(0, 99999); // For mobile devices
    document.execCommand('copy');

    // Remove the temporary input element
    document.body.removeChild(tempInput);

    // Get the button element
    const copyButton = document.getElementById('copyLinkBtn');

    // Change the button text to "Copied!"
    const originalText = copyButton.textContent;
    copyButton.textContent = 'Copied!';

    // Revert to the original text after 1 second
    setTimeout(() => {
      copyButton.textContent = originalText;
    }, 2000);
  }

  // Add event listener to the button
  document.getElementById('copyLinkBtn').addEventListener('click', copyCurrentURL);

  // -------------------------------------- PDF JS

  const template = document.createElement('template');
  template.innerHTML = `
  <iframe frameborder="0" 
    width="100%" 
    height="800">
  </iframe>
`

  class PdfViewer extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      shadowRoot.appendChild(template.content.cloneNode(true))
    }
    get observedAttributes() {
      return ['src']
    }
    connectedCallback() {
      this.updateIframeSrc()
    }
    attributeChangedCallback(name) {
      if (['src', 'viewerPath'].includes(name)) {
        this.updateIframeSrc()
      }
    }
    updateIframeSrc() {
      this.shadowRoot.querySelector('iframe').setAttribute(
        'src',
        `https://mozilla.github.io/pdf.js/web/viewer.html?file=${this.getAttribute('src') || ''}`
      )
    }
  }
  window.customElements.define('pdf-viewer', PdfViewer)


  // Function to update the --screen-width CSS variable
  function updateScreenWidth() {
    const screenWidth = window.innerWidth;
    document.documentElement.style.setProperty('--screen-width', `${screenWidth}px`);
  }

  // Set the variable initially
  updateScreenWidth();

  // Update the variable on window resize
  window.addEventListener('resize', updateScreenWidth);


  document.getElementById('shareOnWhatsapp').addEventListener('click', function () {
    // Get the current page URL
    const currentUrl = window.location.href;

    // WhatsApp sharing link
    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(currentUrl)}`;

    // Open WhatsApp link in a new tab
    window.open(whatsappUrl, '_blank');
  });

  console.log(
      "%cDeveloped by Harsh Rana%c\nContact: harshrana0084@gmail.com",
      "color: #fff; background-color: #194745; padding: 5px 10px; font-size: 16px; border-radius: 4px;margin-top:40px;",
      "color: #fff; font-size: 14px;margin-top:10px;margin-bottom:40px;"
    );
    console.log(
      "%cSend an email: %chttps://mailto:harshrana0084@gmail.com",
      "color: #3498db; font-weight: bold;",
      "color: #000; text-decoration: underline;"
    );
</script>

</html>